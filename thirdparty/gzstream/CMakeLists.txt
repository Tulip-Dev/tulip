SET(gzstream_SRCS
    gzstream.cpp 
    gzstream.h
)

INCLUDE_DIRECTORIES(${ZLIB_INCLUDE_DIR} ${CMAKE_CURRENT_SOURCE_DIR})

IF(UNIX)
SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -fPIC")
ENDIF(UNIX)

IF(${MSVC})
	SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -DGZSTREAM_DLL")
ENDIF()

ADD_LIBRARY(gzstream SHARED ${gzstream_SRCS})
TARGET_LINK_LIBRARIES(gzstream ${ZLIB_LIBRARY})

INSTALL(TARGETS gzstream
       RUNTIME DESTINATION ${TulipBinInstallDir} COMPONENT gzstream
       LIBRARY DESTINATION ${TulipLibInstallDir} COMPONENT gzstream
       ARCHIVE DESTINATION ${TulipLibInstallDir} COMPONENT gzstream)
